<!-- Botón para abrir el modal -->
<button class="w-full bg-pink-500 text-white py-2 rounded-xl hover:bg-pink-600 transition duration-200 mt-4"
  (click)="abrirModal()">
  Registrar Usuario
</button>

<!-- Modal -->
<div *ngIf="mostrarModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white p-6 rounded-xl shadow-lg w-full max-w-md relative">
    <!-- Botón cerrar -->
    <button class="absolute top-2 right-2 text-gray-500 hover:text-gray-800" (click)="cerrarModal()">✖</button>
    <h2 class="text-xl font-semibold mb-4">Registro de Usuario</h2>
    <form [formGroup]="miForm" (ngSubmit)="registrarUsuario()" class="space-y-4">
      <!-- Campo RUT -->
      <input type="text" formControlName="rut" placeholder="Ingrese RUT (Ej: 12.345.678-9)" maxlength="12"
        class="w-full p-2 border border-gray-300 rounded-lg" (input)="formatearRut($event)" required />
      <div *ngIf="miForm.get('rut')?.hasError('rutInvalido') && miForm.get('rut')?.touched"
        class="text-red-500 text-sm">
        RUT inválido
      </div>
      <!-- Otros campos -->
      <input type="text" formControlName="nombre" placeholder="Nombre"
        class="w-full p-2 border border-gray-300 rounded-lg" required />
      <input type="text" formControlName="apellido" placeholder="Apellido"
        class="w-full p-2 border border-gray-300 rounded-lg" required />
      <input type="text" formControlName="correo" placeholder="Correo"
        class="w-full p-2 border border-gray-300 rounded-lg" required />
      <input type="password" formControlName="clave" placeholder="Clave"
        class="w-full p-2 border border-gray-300 rounded-lg" required />
      <input type="text" formControlName="celular" placeholder="Celular"
        class="w-full p-2 border border-gray-300 rounded-lg" required />
      <!-- Botón -->
      <button type="submit" [disabled]="miForm.invalid" class="w-full py-2 rounded-lg text-white transition
         bg-pink-500 enabled:hover:bg-pink-600 disabled:bg-gray-400 disabled:cursor-not-allowed">
        Guardar
      </button>
    </form>
  </div>
</div>
